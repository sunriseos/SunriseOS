<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `session` mod in crate `sunrise_kernel`."><meta name="keywords" content="rust, rustlang, rust-lang, session"><title>sunrise_kernel::ipc::session - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css"><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="shortcut icon" href="../../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../sunrise_kernel/index.html'><div class='logo-container'><img src='../../../rust-logo.png' alt='logo'></div></a><p class='location'>Module session</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></div><p class='location'><a href='../../index.html'>sunrise_kernel</a>::<wbr><a href='../index.html'>ipc</a></p><script>window.sidebarCurrent = {name: 'session', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../../src/sunrise_kernel/ipc/session.rs.html#1-848' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../../index.html'>sunrise_kernel</a>::<wbr><a href='../index.html'>ipc</a>::<wbr><a class="mod" href=''>session</a></span></h1><div class='docblock'><p>IPC Sessions</p>
<p>A Session represents an established connection. It implements a rendez-vous
style Remote Procedure Call interface. The ClientSession has a <code>send_request</code>
operation, which will wait for the counterpart ServerSession's <code>reply</code>. A
ServerSession can also <code>receive</code> the pending requests.</p>
<p>Note that a single Session can only process a single request at a time - it
is an inherently sequential construct. If multiple threads attempt receiving
on the same handle, they will have to wait for the current request to be
replied to before being able to receive the next request in line.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">kernel</span>::<span class="ident">ipc</span>::<span class="ident">session</span>;
<span class="kw">let</span> (<span class="ident">server</span>, <span class="ident">client</span>) <span class="op">=</span> <span class="ident">session</span>::<span class="ident">new</span>();</pre></div>
<p>The requests are encoded in a byte buffer under a specific format. For
documentation on the format, <a href="https://switchbrew.org/w/index.php?title=IPC_Marshalling">switchbrew</a> is your friend.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.Buffer.html" title='sunrise_kernel::ipc::session::Buffer struct'>Buffer</a></td><td class='docblock-short'><p>Information about a Buffer during a Request.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ClientSession.html" title='sunrise_kernel::ipc::session::ClientSession struct'>ClientSession</a></td><td class='docblock-short'><p>The client side of a Session.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.HandleDescriptorHeader.html" title='sunrise_kernel::ipc::session::HandleDescriptorHeader struct'>HandleDescriptorHeader</a></td><td class='docblock-short'><p>Part of an HIPC command. Sent only when
<code>MsgPackedHdr::enable_handle_descriptor</code> is true.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.MsgPackedHdr.html" title='sunrise_kernel::ipc::session::MsgPackedHdr struct'>MsgPackedHdr</a></td><td class='docblock-short'><p>Represenens the header of an HIPC command.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Request.html" title='sunrise_kernel::ipc::session::Request struct'>Request</a></td><td class='docblock-short'><p>An incoming IPC request.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ServerSession.html" title='sunrise_kernel::ipc::session::ServerSession struct'>ServerSession</a></td><td class='docblock-short'><p>The server side of a Session.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Session.html" title='sunrise_kernel::ipc::session::Session struct'>Session</a></td><td class='docblock-short'><p>Shared part of a Session.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.SessionRequests.html" title='sunrise_kernel::ipc::session::SessionRequests struct'>SessionRequests</a></td><td class='docblock-short'><p>Wrapper around the currently active session and the incoming request list.
They are kept together so they are locked together.</p>
</td></tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table><tr class='module-item'><td><a class="enum" href="enum.CBufBehavior.html" title='sunrise_kernel::ipc::session::CBufBehavior enum'>CBufBehavior</a></td><td class='docblock-short'><p>Defines how to handle X Buffer descriptors based on the C Buffer flags.</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.buf_map.html" title='sunrise_kernel::ipc::session::buf_map fn'>buf_map</a></td><td class='docblock-short'><p>Send an IPC Buffer from the sender into the receiver.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.buf_unmap.html" title='sunrise_kernel::ipc::session::buf_unmap fn'>buf_unmap</a></td><td class='docblock-short'><p>Unmap an IPC Buffer from the receiver.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.find_c_descriptors.html" title='sunrise_kernel::ipc::session::find_c_descriptors fn'>find_c_descriptors</a></td><td class='docblock-short'><p>Efficiently finds C Descriptor in a message.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.new.html" title='sunrise_kernel::ipc::session::new fn'>new</a></td><td class='docblock-short'><p>Create a new Session pair. Those sessions are linked to each-other: The
server will receive requests sent through the client.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.pass_message.html" title='sunrise_kernel::ipc::session::pass_message fn'>pass_message</a></td><td class='docblock-short'><p>Send a message from the sender to the receiver. This is more or less a
memcpy, with some special case done to satisfy the various commands of the
CMIF structure:</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "sunrise_kernel";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>